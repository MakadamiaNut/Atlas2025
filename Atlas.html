<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Map Archive - Instant Modal</title>
    <style>
        :root {
            --item-size: 280px;     
            --item-margin: 0px; 
            --ani-speed: 30s; 
            --move-distance: calc((var(--item-size) + (var(--item-margin) * 2)) * 5);
        }

        body { 
            background-color: #000; 
            margin: 0; 
            overflow: hidden; 
            display: flex; 
            align-items: center; 
            height: 100vh;
            font-family: 'Pretendard', sans-serif;
        }
        
        .archive-container { 
            display: flex; 
            flex-direction: column; 
            width: 100%;
            gap: 80px; 
        }

        .row-wrapper { 
            width: 100%; 
            overflow: hidden; 
            white-space: nowrap;
            padding: 20px 0; 
        }

        .row { 
            display: flex; 
            width: max-content; 
        }
        
        .map-item {
            width: var(--item-size); 
            height: var(--item-size); 
            margin: 0 var(--item-margin);
            background-size: cover; 
            background-position: center;
            border-radius: 50%;
            filter: grayscale(100%);
            border: 1px solid rgba(255,255,255,0.2);
            flex-shrink: 0;
            transition: transform 0.4s ease, filter 0.3s;
            will-change: transform;
        }

        .clickable .map-item { cursor: pointer; }
        .clickable .map-item:hover { 
            filter: grayscale(0%); 
            transform: scale(1.15); 
            z-index: 999; 
            border-color: #fff;
        }
        
        .non-clickable { opacity: 0.4; }

        .row-left { animation: slideLeft var(--ani-speed) linear infinite; }
        .row-right { animation: slideRight var(--ani-speed) linear infinite; }

        @keyframes slideLeft {
            from { transform: translateX(0); }
            to { transform: translateX(calc(var(--move-distance) * -1)); }
        }

        @keyframes slideRight {
            from { transform: translateX(calc(var(--move-distance) * -1)); }
            to { transform: translateX(0); }
        }

        /* ğŸ–¼ï¸ ëª¨ë‹¬ ìŠ¤íƒ€ì¼ ìˆ˜ì • */
        #modal { 
            display: none; /* ì´ˆê¸°ê°’ */
            position: fixed; 
            top:0; left:0; 
            width:100%; height:100%; 
            background: rgba(0,0,0,0.9); 
            z-index: 2000; 
            justify-content: center; 
            align-items: center; 
            color: #fff; 
            backdrop-filter: blur(15px);
        }

        .modal-content {
            max-width: 90%;
            max-height: 90%;
            display: flex;
            flex-direction: column;
            align-items: center; /* ì´ë¯¸ì§€ì™€ infoë°•ìŠ¤ë¥¼ ê°€ë¡œì¤‘ì•™ìœ¼ë¡œ */
        }

        #modal-img {
            max-width: 80vw;
            max-height: 60vh;
            width: auto;
            height: auto;
            border: 1px solid #444;
            margin-bottom: 15px;
        }

        /* í…ìŠ¤íŠ¸ ì¤‘ì•™ ì •ë ¬ í•µì‹¬ ìˆ˜ì •ë¶€ */
        .modal-info {
            display: flex;
            flex-direction: column;
            align-items: center; /* ë‚´ë¶€ ìš”ì†Œë“¤ ì¤‘ì•™ ì •ë ¬ */
            text-align: center;
        }

        .modal-info h2 { font-size: 1.8rem; margin: 0 0 10px 0; }
        .modal-info p { color: #888; margin: 4px 0; font-size: 0.85rem; }
        
        /* ì„¤ëª…ê¸€ ë„ˆë¹„ ì œí•œ ë° ì¤‘ì•™ ì •ë ¬ */
        #m-desc {
            margin: 15px auto 0 !important; /* ê°€ë¡œ ì¤‘ì•™ ë°°ì¹˜ ê°•ì œ */
        }

    </style>
</head>
<body>

<div class="archive-container">
    <div class="row-wrapper non-clickable">
        <div id="row1" class="row row-left"></div>
    </div>
    <div class="row-wrapper clickable">
        <div id="row2" class="row row-right"></div>
    </div>
    <div class="row-wrapper non-clickable">
        <div id="row3" class="row row-left"></div>
    </div>
</div>

<div id="modal" onclick="closeModal()">
    <div class="modal-content" onclick="event.stopPropagation()">
        <img id="modal-img" src="" alt="Map Original">
        <div class="modal-info">
            <h2 id="m-title">Title</h2>
            <p id="m-proj">Projection: -</p>
            <p id="m-desc" style="color:#ccc; max-width: 500px; line-height: 1.5;">Description...</p>
        </div>
    </div>
</div>

<script>
    const mapData = {
        1: { title: "Saved Places Cartogram", proj: "EPSG:3035 (ETRS89 / LAEA Europe)", desc: "êµ¬ê¸€ ì§€ë„ì— ì €ì¥ëœ ì¥ì†Œ ìˆ˜ì— ë¹„ë¡€í•˜ê²Œ êµ­ê°€ë³„ ë©´ì ì„ ì™œê³¡í•œ ì¹´í† ê·¸ë¨ì´ë‹¤." },
        2: { title: "Bristol Channel", proj: "EPSG:27700 (OSGB36 / British National Grid)", desc: "í•­êµ¬ë„ì‹œ ë¸Œë¦¬ìŠ¤í†¨ì—ì„œ ì´ë¦„ì„ ë”´ ì´ í•´í˜‘ì€ ì¡°ì°¨ê°€ 14-15më¡œ ìœ ëŸ½ ìµœëŒ€ ìˆ˜ì¤€ì´ë‹¤." },
        3: { title: "Lacoak: The Harry Potter Trail", proj: "EPSG:27700 (OSGB36 / British National Grid)", desc: "ì˜í™” í•´ë¦¬í¬í„° 2í¸ê³¼ 5í¸ì—ì„œ Lacoakì˜ ëª¨ìŠµì„ ì°¾ì•„ë³¼ ìˆ˜ ìˆë‹¤." },
        4: { title: "Arctic Circle & Northern Lights Viewing City", proj: "EPSG:3413 (WGS 84 / NSIDC Polar Stereographic)", desc: "ë…¸ë¥´ì›¨ì´ íŠ¸ë¡¬ì‡ ëŠ” ì˜¤ë¡œë¼ ê´€ì¸¡ ëª…ì†Œ ì¤‘ ê°€ì¥ ê³ ìœ„ë„ì— ìœ„ì¹˜í•´ ìˆë‹¤." },
        5: { title: "Mont Blanc Contour", proj: "EPSG:3035 (ETRS89 / LAEA Europe)", desc: "ìƒ¤ëª¨ë‹‰ìŠ¤ 1030m, ì—ê·€ë””ë¯¸ë”” 3842m, ëª½ë¸”ë‘ 4810m" }
    };

    function createItems(rowId, isClickable) {
        const row = document.getElementById(rowId);
        if(!row) return;
        for (let i = 0; i < 4; i++) {
            for (let j = 1; j <= 5; j++) {
                const item = document.createElement('div');
                item.className = 'map-item';
                const imgUrl = `map${j}.png`;
                item.style.backgroundImage = `url('${imgUrl}')`; 
                
                if (isClickable) {
                    item.onclick = () => openModal(j, imgUrl);
                }
                row.appendChild(item);
            }
        }
    }

    function openModal(id, imgUrl) {
        const data = mapData[id];
        document.getElementById('modal-img').src = imgUrl;
        document.getElementById('m-title').innerText = data.title;
        document.getElementById('m-proj').innerText = `Projection: ${data.proj}`;
        document.getElementById('m-desc').innerText = data.desc;
        document.getElementById('modal').style.display = 'flex';
    }

    function closeModal() {
        document.getElementById('modal').style.display = 'none';
    }

    // ì´ˆê¸°í™”
    window.onload = () => {
        createItems('row1', false);
        createItems('row2', true);
        createItems('row3', false);
    };
</script>

</body>
</html>